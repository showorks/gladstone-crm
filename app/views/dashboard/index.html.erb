<h2>Option 1 - Combo Box(es) with AJAX</h2>

<h4>Search by Phone Number</h4>
<input class="form-control input-lg" type="text" id="search-phones">
<script>
  $("#search-phones").change(function(event) {
    if ($("#search-phones")) {
      window.location.href = "/fairs/" + $("#search-phones").val();
    }
  });

  $("#search-phones").select2({
   placeholder: "Search for a Phone Number",
   minimumInputLength: 1,
   ajax: {
       url: "/fairs/autocomplete_fairs.json",
       dataType: 'jsonp',
       quietMillis: 100,
       data: function (term, page) {
           return {
               q: term,
               area: 'tel',
               page: page,
               page_limit: 25
           };
       },
       results: function (data, page) {
           var more = (page * 30) < data.total_count;
           return { results: data.fairs, more: more };
       }
   },
   formatResult: searchPhonesFormatResult,
   formatSelection: searchPhonesFormatSelection,
   dropdownCssClass: "bigdrop",
   escapeMarkup: function (m) { return m; }
  });
</script>

<br>

<h4>Search Fairs</h4>
<input class="form-control input-lg" type="text" id="search-fairs">
<script>
  $("#search-fairs").change(function(event) {
    if ($("#search-fairs")) {
      window.location.href = "/fairs/" + $("#search-fairs").val();
    }
  });

  $("#search-fairs").select2({
   placeholder: "Search for a Fair",
   minimumInputLength: 1,
   ajax: {
       url: "/fairs/autocomplete_fairs.json",
       dataType: 'jsonp',
       quietMillis: 100,
       data: function (term, page) {
           return {
               q: term,
               area: 'fair',
               page: page,
               page_limit: 25
           };
       },
       results: function (data, page) {
           var more = (page * 30) < data.total_count;
           return { results: data.fairs, more: more };
       }
   },
   formatResult: searchFairsFormatResult,
   formatSelection: searchFairsFormatSelection,
   dropdownCssClass: "bigdrop",
   escapeMarkup: function (m) { return m; }
  });
</script>

<br>

<h4>Search Contacts</h4>
<input class="form-control input-lg" type="text" id="search-contacts">
<script>
  $("#search-contacts").change(function(event) {
    if ($("#search-contacts")) {
      window.location.href = "/fairs/" + $("#search-contacts").val();
    }
  });

  $("#search-contacts").select2({
   placeholder: "Search for a Contact",
   minimumInputLength: 1,
   ajax: {
       url: "/fairs/autocomplete_fairs.json",
       dataType: 'jsonp',
       quietMillis: 100,
       data: function (term, page) {
           return {
               q: term,
               area: 'contact',
               page: page,
               page_limit: 25
           };
       },
       results: function (data, page) {
           var more = (page * 30) < data.total_count;
           return { results: data.fairs, more: more };
       }
   },
   formatResult: searchContactsFormatResult,
   formatSelection: searchContactsFormatSelection,
   dropdownCssClass: "bigdrop",
   escapeMarkup: function (m) { return m; }
  });
</script>

<br>

<h4>Super Search</h4>
<input class="form-control input-lg" type="text" id="search-all">
<small><em>Search for anything or use an operator (tel:, fair:, or contact:)</em></small>
<script>
  $("#search-all").change(function(event) {
    if ($("#search-all")) {
      window.location.href = "/fairs/" + $("#search-all").val();
    }
  });

  $("#search-all").select2({
   placeholder: "Search CRM",
   minimumInputLength: 1,
   ajax: {
       url: "/fairs/autocomplete_fairs.json",
       dataType: 'jsonp',
       quietMillis: 100,
       data: function (term, page) {
           return {
               q: term,
               page: page,
               page_limit: 25
           };
       },
       results: function (data, page) {
           var more = (page * 30) < data.total_count;
           return { results: data.fairs, more: more };
       }
   },
   formatResult: searchContactsFormatResult,
   formatSelection: searchContactsFormatSelection,
   dropdownCssClass: "bigdrop",
   escapeMarkup: function (m) { return m; }
  });
</script>



<br><br>
<hr>
<h2>Option 2 - Single Search Box with Results Page</h2>

<!-- <input class="form-control input-lg" type="text" placeholder="Search CRM" id="q">
<%= label_tag :search, "Search CRM" %> -->

<%= form_tag search_fairs_path, :method => :get do %>
  <%= search_field_tag :search, params[:search], class: "form-control input-lg", placeholder: "Search CRM" %>
  <small><em>Search for anything or use an operator (tel:, fair:, or contact:)</em></small>
<% end %>










<% if 1 == 2 %>
<div class="well">
  <h4>Limit Results</h4>

  <div class="form-group col-xs-4">
    <label for="exampleInputPassword1">State</label>
    <select class="form-control input-sm" id="filter-states">
      <option value="" selected="selected"></option>
      <option value="AL">Alabama</option>
      <option value="AK">Alaska</option>
      <option value="AZ">Arizona</option>
      <option value="AR">Arkansas</option>
      <option value="CA">California</option>
      <option value="CO">Colorado</option>
      <option value="CT">Connecticut</option>
      <option value="DE">Delaware</option>
      <option value="DC">District Of Columbia</option>
      <option value="FL">Florida</option>
      <option value="GA">Georgia</option>
      <option value="HI">Hawaii</option>
      <option value="ID">Idaho</option>
      <option value="IL">Illinois</option>
      <option value="IN">Indiana</option>
      <option value="IA">Iowa</option>
      <option value="KS">Kansas</option>
      <option value="KY">Kentucky</option>
      <option value="LA">Louisiana</option>
      <option value="ME">Maine</option>
      <option value="MD">Maryland</option>
      <option value="MA">Massachusetts</option>
      <option value="MI">Michigan</option>
      <option value="MN">Minnesota</option>
      <option value="MS">Mississippi</option>
      <option value="MO">Missouri</option>
      <option value="MT">Montana</option>
      <option value="NE">Nebraska</option>
      <option value="NV">Nevada</option>
      <option value="NH">New Hampshire</option>
      <option value="NJ">New Jersey</option>
      <option value="NM">New Mexico</option>
      <option value="NY">New York</option>
      <option value="NC">North Carolina</option>
      <option value="ND">North Dakota</option>
      <option value="OH">Ohio</option>
      <option value="OK">Oklahoma</option>
      <option value="OR">Oregon</option>
      <option value="PA">Pennsylvania</option>
      <option value="RI">Rhode Island</option>
      <option value="SC">South Carolina</option>
      <option value="SD">South Dakota</option>
      <option value="TN">Tennessee</option>
      <option value="TX">Texas</option>
      <option value="UT">Utah</option>
      <option value="VT">Vermont</option>
      <option value="VA">Virginia</option>
      <option value="WA">Washington</option>
      <option value="WV">West Virginia</option>
      <option value="WI">Wisconsin</option>
      <option value="WY">Wyoming</option>
    </select>
  </div>
  <div class="clearfix"></div>

  <!-- ShoWorks Customer -->
  <div class="form-group col-xs-8">
    <label for="exampleInputPassword1">ShoWorks Customer Status</label>
    <br>
    <label class="radio-inline">
      <input type="radio" name="filter-showorks-customer" id="inlineRadio1" value="option1" checked> All Fairs
    </label>
    <label class="radio-inline">
      <input type="radio" name="filter-showorks-customer" id="inlineRadio2" value="option2"> Only Customers
    </label>
    <label class="radio-inline">
      <input type="radio" name="filter-showorks-customer" id="inlineRadio3" value="option3"> Only Non Customers
    </label>
  </div>
  <div class="clearfix"></div>

  <!-- ShoWorks Web -->
  <div class="form-group  col-xs-8">
    <label for="exampleInputPassword1">ShoWorks Web Status</label>
    <br>
    <label class="radio-inline">
      <input type="radio" name="filter-showorks-web-customer" id="inlineRadio1" value="option1" checked> All Fairs
    </label>
    <label class="radio-inline">
      <input type="radio" name="filter-showorks-web-customer" id="inlineRadio2" value="option2"> Only Customers
    </label>
    <label class="radio-inline">
      <input type="radio" name="filter-showorks-web-customer" id="inlineRadio3" value="option3"> Only Non Customers
    </label>
  </div>
  <div class="clearfix"></div>

</div>

<% end %>
